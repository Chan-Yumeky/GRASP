# GRASP

##### 1.**设有2个类A和B，请给出以下5种创建者原则的代码实例：**

A类组合B类，A类聚合B类，A类记录B类，A类紧密的使用B类。

**1)** A类组合B类：房间（Room）是房屋（House）的成员，房间的存在完全依赖于房屋的存在。如果房屋被拆除，所有房间也不复存在，因此房间和房屋是组合关系。

**2)** A类聚合B类：书籍（Book）可以是图书馆（Library）的成员，但书籍的存在并不依赖于图书馆。如果图书馆被关闭，书籍仍然可以存在于其他地方，因此书籍和图书馆是聚合关系。

**3)** A类记录B类：歌曲（Song）不是播放列表（PlayList）的成员，但是歌曲是播放列表中歌单这个集合的一个元素，而歌单是播放列表类的成员，所以歌曲类和播放列表类是记录关系。

**4)** A类紧密使用B类：数据库（Database）不是Web应用程序（WebApplication）的成员，即数据库是独立存在的，但是Web应用程序使用数据库来存储和检索数据，通过数据库来执行其主要功能（如用户登录、数据存储等），因此Web应用程序类紧密使用数据库类。

##### 2.设有2个类A和B，请给出3种不同的代码实例，使得A类和B类产生内容耦合，并阐述3个实例耦合的优缺点。

**1)** 例子1：Service类通过直接访问Good类中的price成员变量来修改price的值，产生内容耦合，这种操作方式并不安全，优点是访问公共变量的效率很高，缺点是一旦Good类的变量名或数据类型发生改变，Service类的代码就会失效,同时使得 Good类无法保证数据完整性和安全性，导致代码难以维护。

**2)** 例子2：coffeMachinePro类继承coffeMachine类并重写其makeAmericano方法，产生内容耦合。优点是子类可以扩展父类的功能，部分代码得以重用，缺点是如果coffeMachine类对该方法进行内容或方法名的修改，也会影响到coffeMachinePro的方法。

**3)** 例子3：washCup类继承washDishes类且不重写任何方法，产生内容耦合。优点是washCup类可以继承并复用washDishes类的所有方法，缺点是washCup类可能并不需要washDishes类中的一些方法，但由于继承被迫接收，使得子类与父类产生了紧密的依赖性，代码维护成本巨大。

##### 3、设有2个类A和B，请给出3种不同的代码实例，使得A类和B类产生公共耦合，并阐述3个实例耦合的影响范围。

**1)** Father类和Mother类都依赖全局变量Asset.money，产生公共耦合，影响范围是全局，包括所有使用 Asset.money的类。

**2)** Father类和Mother类通过Father类的静态变量 secretStash产生公共耦合，影响范围包括任何访问了Father.secretStash的类。

**3)** emp1类和emp2类通过共享的文件shared.txt 进行公共耦合。emp1类向文件中写入数据，而emp2类读取同一文件中的数据。影响范围是全局，包括任何对文件进行操作的类。

##### 4、设有2个类（接口、抽象类）A和B，请给出3种不同的代码实例，使得A类和B类产生对象耦合，并阐述3个实例耦合程度高低。

**1)** Student类只依赖Course类的接口，不关心Course类的具体实现，使用依赖注入的方式，Student类和Course类通过接口进行交互，实现较低耦合程度的对象耦合。

**2)** Driver类依赖于UseCar类的具体实现，由于使用继承来共享代码和行为，导致了类之间的对象耦合。Driver类必须了解并依赖于UseCar类的具体实现，这使得 Driver类受到UseCar类改变的影响，故是中等耦合程度的对象耦合。

**3)** Man类直接依赖于CoffMachine类的具体实例，通过成员变量保存对CoffMachine类的引用，故为通过直接引用产生高度耦合程度的对象耦合。

##### 5、设有2个类A和B，请给出2种不同的代码实例，使得A类和B类产生控制耦合，但是要求其中1种是正向的（好的）控制耦合，另一种是负向的（不好的）控制耦合。

**1)** 正向控制耦合：在文件处理的操作中，文件读写过程中可能会遇到多种预定义的错误类型，例如文件找不到、权限不足、磁盘已满等，对于这些已知的错误类型，程序往往会使用固定的控制逻辑来处理每种错误，这也是一种合理的控制耦合，是正向的控制耦合。

**2)** 负向控制耦合：Customer类通过传递不同的控制标志controlFlag来决定购买FruitStore类所销售的哪种水果，导致了 FruitStore 类与水果类型之间的控制耦合。随着水果种类增多，控制标志会变得越来越难以管理，代码维护难度增加，故是负向的控制耦合。

##### **6、请设计一个界面，界面中只有三个按钮，分别是A,B和C。 请遵循控制器设计原则实现以下功能：**

默认按下A输出“Hello World!”。 按下B后，再去按下A时，按输出“执行B功能！”。按下C后，再去按下A时，按输出“执行C功能！”。

​	由控制器原则，代码中的ButtonController类负责处理按钮的逻辑，而GUI界面的显示和输出则由TextAreaOutputHandler类负责。同时为了降低耦合程度，通过定义 OutputHandler 接口，将具体的输出实现（TextAreaOutputHandler）与控制器解耦，控制器只依赖于接口而非具体类，实现对象耦合；而由于按钮的行为固定且有限，ButtonController使用枚举ButtonAction来控制按钮的状态，控制逻辑更加集中，减少了对具体实现的依赖。
